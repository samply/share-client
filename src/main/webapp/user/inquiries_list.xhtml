<?xml version="1.0" encoding="UTF-8"?>

<ui:composition template="/WEB-INF/templates/globalTemplate.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:ssc="http://xmlns.jcp.org/jsf/composite/samply-share-common"
>
    <ui:define name="title">#{msg.inqs_inquiriesActiveTitle}</ui:define>

    <ui:define name="additional-css">
        <h:outputStylesheet library="webjars"
                            name="datatables/1.11.3/css/dataTables.bootstrap.min.css"/>
        <h:outputStylesheet library="webjars" name="bootstrap/3.3.7-1/css/bootstrap-jsf.css"/>
    </ui:define>

    <ui:define name="additional-js">
        <h:outputScript library="webjars" name="datatables/1.11.3/js/jquery.dataTables.min.js"/>
        <h:outputScript library="webjars" name="datatables/1.11.3/js/dataTables.bootstrap.min.js"/>
        <h:outputScript library="js" name="pages/inquiries_list.js"/>
        <h:outputScript library="js" name="date-de.js"/>
    </ui:define>

    <ui:define name="main-content">

        <h:form prependId="false">
<!--ib-content -->
            <h:commandLink  styleClass="btn btn-default btn-sm mb-4"
                              action="#{schedulerBean.fireNow('CollectInquiriesJob', 'DecentralSearchGroup')}"
                              data-toggle="tooltip" data-placement="top" title="#{msg.update_btn}"
            > <i class="fas fa-sync-alt"></i> </h:commandLink>
            <table id="active-inquiries-table"
                   class="table table-hover table-condensed inquiry-table">
                <thead>
                <tr>
                    <th>Name</th>
                    <th>#{msg.inqs_searchingFor}</th>
                    <th>#{msg.inqs_receivedAt}</th>
                    <th>#{msg.inqs_found}</th>
                    <th>#{msg.inqs_asOf}</th>
                </tr>
                </thead>
            </table>
            <h:messages showDetail="true" showSummary="true" id="messages" globalOnly="true"/>

        </h:form>

        <div id="userIdDiv" style="display: none;">
            <h:outputText value="#{user.id}"/>
        </div>
        <div id="base64CredentialsDiv" style="display: none;">
            <h:outputText value="#{credentialsBean.getBase64Credentials()}"/>
        </div>



        <ssc:pleaseWaitModal/>
    </ui:define>
</ui:composition>
